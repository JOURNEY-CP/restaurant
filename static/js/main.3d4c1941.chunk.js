(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{128:function(t,e,n){},133:function(t,e,n){},134:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n(0),r=n.n(c),i=n(15),s=n.n(i),o=(n(94),n(21)),j=n(8),u=(n(95),n(19)),l=n(20),d=n(23),b=n(22),O=n(24),p=n.n(O),h=n(28),m=n.n(h),x=(n(96),n(68),function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).handlePath=function(){a.props.history.push("/cart")},a.state={},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(p.a,{children:Object(a.jsxs)(O.TopAppBarRow,{children:[Object(a.jsxs)(O.TopAppBarSection,{align:"start",children:[Object(a.jsx)(O.TopAppBarIcon,{navIcon:!0,tabIndex:0,children:Object(a.jsx)(m.a,{hasRipple:!0,icon:"menu",onClick:function(){return console.log("click")}})}),Object(a.jsx)(O.TopAppBarTitle,{children:"Restaurent"})]}),Object(a.jsx)(O.TopAppBarSection,{align:"end",role:"toolbar",children:Object(a.jsx)(O.TopAppBarIcon,{actionItem:!0,tabIndex:0,children:Object(a.jsx)(o.b,{to:"/cart",children:Object(a.jsx)(m.a,{"aria-label":"print page",hasRipple:!0,icon:"shopping_cart"})})})})]})})})}}]),n}(c.Component)),f=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"you are in footer"})})}}]),n}(c.Component),g=function(){return console.log(window.location),Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"Page Not Found"})})},v=n(18),_="getItemList",N="addItemToCart",y="updateItemQuantity",T="customerMetaData",C=n(31),S=n.n(C),I=(n(105),n(106),n(81)),D=n.n(I),E=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).handleMetaData=function(){a.props.onGetCustomerMetaData(a.state),a.props.history.push("/items")},a.state={name:"",tableNo:"",mobile:""},a}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)(S.a,{label:"Name",onTrailingIconSelect:function(){return t.setState({value:""})},leadingIcon:Object(a.jsx)(m.a,{icon:"account_circle"}),children:Object(a.jsx)(C.Input,{id:"name",value:this.state.name,onChange:function(e){return t.setState({name:e.currentTarget.value})}})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(S.a,{label:"Mobile Number",onTrailingIconSelect:function(){return t.setState({value:""})},leadingIcon:Object(a.jsx)(m.a,{icon:"call"}),children:Object(a.jsx)(C.Input,{id:"mobile",value:this.state.mobile,onChange:function(e){return t.setState({mobile:e.currentTarget.value})}})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(S.a,{label:"Table Number",id:"table",leadingIcon:Object(a.jsx)(m.a,{icon:"restaurant_menu"}),children:Object(a.jsx)(C.Input,{value:this.state.tableNo,onChange:function(e){return t.setState({tableNo:e.currentTarget.value})}})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(D.a,{icon:Object(a.jsx)(m.a,{icon:"restaurant"}),raised:!0,onClick:this.handleMetaData,children:"Start Ordering"})]})}}]),n}(c.Component),k=Object(v.a)((function(t){return{customerMetaData:t.metaData.customerMetaData}}),(function(t){return{onGetCustomerMetaData:function(e){return t(function(t){return{type:T,data:t}}(e))}}}))(E),w=n(65),A=n.n(w),M=n(82),R=(n(108),n(56)),L=n.n(R),P=n(70).default;n(39).config();var B=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(t){var c;return Object(u.a)(this,n),(c=e.call(this,t)).itemList=function(){return c.props.items?c.props.items.map((function(t){return Object(a.jsxs)(R.ListItem,{onClick:function(){c.props.history.push("/items/".concat(t.id))},children:[Object(a.jsx)("img",{src:"images/recipe.jpg",alt:"r",width:"60",height:"60",style:{borderRadius:"100%"}}),Object(a.jsx)(R.ListItemText,{primaryText:t.name,secondaryText:t.price})]},t.id)})):Object(a.jsx)("div",{})},c.state={},c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=Object(M.a)(A.a.mark((function t(){var e;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return setTimeout(function(){this.setState({render:!0})}.bind(this),1e3),t.next=3,P.get("".concat("https://restaurant-journey.herokuapp.com","/api/user/item"));case 3:return e=t.sent,t.t0=this.props,t.next=7,e.data;case 7:t.t1=t.sent,t.t0.onGetItemList.call(t.t0,t.t1);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(L.a,{twoLine:!0,children:Object(a.jsx)(this.itemList,{})})})}}]),n}(c.Component),q=Object(v.a)((function(t){return{items:t.items.list}}),(function(t){return{onGetItemList:function(e){return t(function(t){return{type:_,data:t}}(e))}}}))(B),F=n(51),G=n(11),U=n(66),V=(n(128),n(158)),H=n(4),K=n(166),X=n(161),J=n(160),Q=n(162),W=n(163),Y=n(165),z=n(164),Z=n(58),$=n(57),tt=n(83),et=n.n(tt);n(39).config();var nt=Object(V.a)((function(t){return{root:{},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:$.a[500]}}}));var at=Object(v.a)((function(t){return{order:t.cart.order}}),(function(t){return{onAddItemToCart:function(e){return t(function(t){return{type:N,data:t}}(e))}}}))((function(t){var e=nt(),n=Object(c.useState)(!1),r=Object(U.a)(n,2),i=r[0],s=r[1],u=Object(c.useState)({id:"",name:"",price:"",description:"",quantity:1}),l=Object(U.a)(u,2),d=l[0],b=l[1],O=Object(j.f)().item_id,p=function(t){var e=d.quantity+t;e>=1&&b(Object(G.a)(Object(G.a)({},d),{},{quantity:e}))};return Object(c.useEffect)((function(){fetch("".concat("https://restaurant-journey.herokuapp.com","/api/user/item/").concat(O),{method:"GET"}).then((function(t){return t.json()})).then((function(t){b(Object(G.a)(Object(G.a)({},t),{},{quantity:1}))})).catch((function(t){return console.log(t)}))}),[O]),Object(a.jsxs)(K.a,{className:e.root,id:"recipe",children:[Object(a.jsx)(o.b,{to:"/items",children:"View all items"}),Object(a.jsx)(J.a,{className:e.media,id:"recipe__fig",image:"/images/recipe.jpg",title:d.name}),Object(a.jsx)(X.a,{className:"recipe__title",title:d.name}),Object(a.jsx)(Q.a,{children:Object(a.jsxs)(Z.a,{variant:"h5",component:"h2",children:["PRICE : ",d.price]})}),Object(a.jsxs)(W.a,{disableSpacing:!0,className:"recipe__info",children:[Object(a.jsx)("svg",{className:"recipe__info-icon",children:Object(a.jsx)("use",{href:"/images/icons.svg#icon-man"})}),Object(a.jsx)("span",{className:"recipe__info-data recipe__info-data--people",children:d.quantity}),Object(a.jsx)("span",{className:"recipe__info-text",children:" SERVINGS"}),Object(a.jsxs)(W.a,{disableSpacing:!0,className:"recipe__info-buttons",children:[Object(a.jsx)("button",{className:"btn-tiny btn-decrease",onClick:function(){p(-1)},children:Object(a.jsx)("svg",{children:Object(a.jsx)("use",{href:"/images/icons.svg#icon-circle-with-minus"})})}),Object(a.jsx)("button",{className:"btn-tiny btn-increase",onClick:function(){p(1)},children:Object(a.jsx)("svg",{children:Object(a.jsx)("use",{href:"/images/icons.svg#icon-circle-with-plus"})})})]}),Object(a.jsxs)("button",{class:"btn-small recipe__btn recipe__btn recipe__btn--add",onClick:function(){return t.onAddItemToCart(d)},children:[Object(a.jsx)("svg",{class:"search__icon",children:Object(a.jsx)("use",{href:"/images/icons.svg#icon-shopping-cart"})}),Object(a.jsx)("span",{children:"Add to cart"})]}),Object(a.jsx)(z.a,{className:Object(H.a)(e.expand,Object(F.a)({},e.expandOpen,i)),onClick:function(){s(!i)},"aria-expanded":i,"aria-label":"show more",children:Object(a.jsx)(et.a,{})})]}),Object(a.jsx)(Y.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(a.jsxs)(Q.a,{children:[Object(a.jsx)(Z.a,{paragraph:!0,children:"Description:"}),Object(a.jsx)(Z.a,{paragraph:!0,children:d.description})]})})]})})),ct=(n(133),n(70).default);n(39).config();var rt=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(t){var c;return Object(u.a)(this,n),(c=e.call(this,t)).placeOrder=function(){c.props.customerMetaData?ct.post("".concat("https://restaurant-journey.herokuapp.com","/api/user/order"),{customer_mobile:c.props.customerMetaData.mobile,customer_name:c.props.customerMetaData.name,table_no:c.props.customerMetaData.tableNo,item_list:c.props.order}).then((function(t){console.log(t),alert("Thanks for Ordering!!")})).catch((function(t){console.log(t)})):alert("something went wrong!")},c.handleServings=function(t,e){c.props.onUpdateItemQuantity({id:t,val:e})},c.addToCart=function(){return c.props.order?c.props.order.map((function(t){return Object(a.jsxs)("div",{className:"cart-item",children:[Object(a.jsx)("div",{className:"cart-item-figure",children:Object(a.jsx)(o.b,{to:"/items/".concat(t.id),children:Object(a.jsx)("img",{src:"images/recipe.jpg",alt:"r",width:"60",height:"60",style:{borderRadius:"100%"}})})}),Object(a.jsxs)("div",{className:"cart-item-middle",children:[Object(a.jsx)("div",{className:"cart-item-middle-name",children:t.name}),Object(a.jsxs)("div",{className:"cart-item-middle-quantity",children:[Object(a.jsx)("div",{children:Object(a.jsx)("svg",{className:"cart-item-servings-icon",children:Object(a.jsx)("use",{href:"/images/icons.svg#icon-man"})})}),Object(a.jsxs)("div",{className:"cart-item-servings-data",children:[Object(a.jsx)("span",{className:"cart-item-servings-count",children:t.quantity}),Object(a.jsx)("span",{className:"cart-item-servings-text",children:" SERVINGS"})]}),Object(a.jsxs)("div",{className:"cart-item-servings-inc-dec-buttons",children:[Object(a.jsx)("button",{className:"btn-tiny btn-decrease",onClick:function(){return c.handleServings(t.id,-1)},children:Object(a.jsx)("svg",{children:Object(a.jsx)("use",{href:"/images/icons.svg#icon-circle-with-minus"})})}),Object(a.jsx)("button",{className:"btn-tiny btn-increase",onClick:function(){return c.handleServings(t.id,1)},children:Object(a.jsx)("svg",{children:Object(a.jsx)("use",{href:"/images/icons.svg#icon-circle-with-plus"})})})]})]})]}),Object(a.jsx)("div",{className:"cart-item-price",children:Object(a.jsxs)("h3",{children:[t.price*t.quantity,"/-"]})})]},t.id)})):Object(a.jsx)("div",{})},c.state={},c}return Object(l.a)(n,[{key:"render",value:function(){return console.log(this.props.customerMetaData),Object(a.jsxs)("div",{className:"cart",children:[Object(a.jsx)(o.b,{to:"/items",children:"View all items"}),Object(a.jsx)("h1",{children:"Cart"}),Object(a.jsxs)("h3",{children:[this.props.order.length," items in Cart"]}),Object(a.jsx)(this.addToCart,{}),Object(a.jsx)("div",{className:"cart-place-order",children:Object(a.jsx)("button",{onClick:this.placeOrder,children:"PlaceOrder"})})]})}}]),n}(c.Component),it=Object(v.a)((function(t){return{order:t.cart.order,customerMetaData:t.metaData.customerMetaData}}),(function(t){return{onUpdateItemQuantity:function(e){return t(function(t){return{type:y,data:t}}(e))}}}))(rt),st=n(39);n.n(st).a.config();var ot=function(){return console.log(Object({NODE_ENV:"production",PUBLIC_URL:"https://JOURNEY-CP.github.io/restaurant",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_HOST:"https://restaurant-journey.herokuapp.com",REACT_APP_HOMEPAGE:"/restaurant"})),console.log("/restaurant/"),Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(o.a,{children:[Object(a.jsx)(x,{}),Object(a.jsxs)(O.TopAppBarFixedAdjust,{children:[Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"app-main-area",children:Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/restaurant/",component:k}),Object(a.jsx)(j.a,{exact:!0,path:"/restaurant/items",component:q}),Object(a.jsx)(j.a,{exact:!0,path:"/restaurant/items/:item_id",component:at}),Object(a.jsx)(j.a,{exact:!0,path:"/restaurant/cart",component:it}),Object(a.jsx)(j.a,{path:"*",component:g})]})})]}),Object(a.jsx)(f,{})]})})},jt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),r(t),i(t)}))},ut=n(84),lt=n(34);var dt=function(t,e){switch(e.type){case T:return console.log(e.data),Object(G.a)(Object(G.a)({},t),{},{customerMetaData:Object(G.a)({},e.data)});default:return t||{}}},bt=n(46);var Ot=function(t,e){switch(e.type){case _:return Object(G.a)(Object(G.a)({},t),{},{list:Object(bt.a)(e.data)});default:return t||{}}};var pt=function(t,e){var n,a=[];switch(e.type){case N:return a=[].concat(Object(bt.a)(t.order),[e.data]),Object(G.a)(Object(G.a)({},t),{},{order:a});case y:return console.log(e.data),(n=(a=Object(bt.a)(t.order)).find((function(t){return t.id===e.data.id}))).quantity+e.data.val>=1&&(n.quantity+=e.data.val),Object(G.a)(Object(G.a)({},t),{},{order:a});default:return t||{order:[]}}},ht=Object(lt.b)({metaData:dt,items:Ot,cart:pt}),mt=Object(lt.c)(ht,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(ut.a,{store:mt,children:Object(a.jsx)(ot,{})})}),document.getElementById("root")),jt()},94:function(t,e,n){},95:function(t,e,n){}},[[134,1,2]]]);
//# sourceMappingURL=main.3d4c1941.chunk.js.map