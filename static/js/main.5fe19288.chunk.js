(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{128:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),i=n(15),s=n.n(i),o=(n(94),n(21)),j=n(8),u=(n(95),n(19)),l=n(20),d=n(23),b=n(22),p=n(24),O=n.n(p),h=n(28),m=n.n(h),x=(n(96),n(68),function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).handlePath=function(){c.props.history.push("/cart")},c.state={},c}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)(O.a,{children:Object(c.jsxs)(p.TopAppBarRow,{children:[Object(c.jsxs)(p.TopAppBarSection,{align:"start",children:[Object(c.jsx)(p.TopAppBarIcon,{navIcon:!0,tabIndex:0,children:Object(c.jsx)(m.a,{hasRipple:!0,icon:"menu",onClick:function(){return console.log("click")}})}),Object(c.jsx)(p.TopAppBarTitle,{children:"Restaurent"})]}),Object(c.jsx)(p.TopAppBarSection,{align:"end",role:"toolbar",children:Object(c.jsx)(p.TopAppBarIcon,{actionItem:!0,tabIndex:0,children:Object(c.jsx)(o.b,{to:"/cart",children:Object(c.jsx)(m.a,{"aria-label":"print page",hasRipple:!0,icon:"shopping_cart"})})})})]})})})}}]),n}(a.Component)),f=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"you are in footer"})})}}]),n}(a.Component),g=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Page Not Found"})})},v=n(18),_="getItemList",y="addItemToCart",N="updateItemQuantity",C="customerMetaData",I=n(31),T=n.n(I),S=(n(105),n(106),n(81)),k=n.n(S),D=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).handleMetaData=function(){c.props.onGetCustomerMetaData(c.state),c.props.history.push("/items")},c.state={name:"",tableNo:"",mobile:""},c}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)(T.a,{label:"Name",onTrailingIconSelect:function(){return e.setState({value:""})},leadingIcon:Object(c.jsx)(m.a,{icon:"account_circle"}),children:Object(c.jsx)(I.Input,{id:"name",value:this.state.name,onChange:function(t){return e.setState({name:t.currentTarget.value})}})}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(T.a,{label:"Mobile Number",onTrailingIconSelect:function(){return e.setState({value:""})},leadingIcon:Object(c.jsx)(m.a,{icon:"call"}),children:Object(c.jsx)(I.Input,{id:"mobile",value:this.state.mobile,onChange:function(t){return e.setState({mobile:t.currentTarget.value})}})}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(T.a,{label:"Table Number",id:"table",leadingIcon:Object(c.jsx)(m.a,{icon:"restaurant_menu"}),children:Object(c.jsx)(I.Input,{value:this.state.tableNo,onChange:function(t){return e.setState({tableNo:t.currentTarget.value})}})}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(k.a,{icon:Object(c.jsx)(m.a,{icon:"restaurant"}),raised:!0,onClick:this.handleMetaData,children:"Start Ordering"})]})}}]),n}(a.Component),w=Object(v.a)((function(e){return{customerMetaData:e.metaData.customerMetaData}}),(function(e){return{onGetCustomerMetaData:function(t){return e(function(e){return{type:C,data:e}}(t))}}}))(D),M=n(65),E=n.n(M),L=n(82),A=(n(108),n(55)),R=n.n(A),q=n(70).default;n(61).config();var B=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).itemList=function(){return a.props.items?a.props.items.map((function(e){return Object(c.jsxs)(A.ListItem,{onClick:function(){a.props.history.push("/items/".concat(e.id))},children:[Object(c.jsx)("img",{src:"images/recipe.jpg",alt:"r",width:"60",height:"60",style:{borderRadius:"100%"}}),Object(c.jsx)(A.ListItemText,{primaryText:e.name,secondaryText:e.price})]},e.id)})):Object(c.jsx)("div",{})},a.state={},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(L.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout(function(){this.setState({render:!0})}.bind(this),1e3),e.next=3,q.get("".concat("https://restaurant-journey.herokuapp.com","/api/user/item"));case 3:return t=e.sent,e.t0=this.props,e.next=7,t.data;case 7:e.t1=e.sent,e.t0.onGetItemList.call(e.t0,e.t1);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)(R.a,{twoLine:!0,children:Object(c.jsx)(this.itemList,{})})})}}]),n}(a.Component),G=Object(v.a)((function(e){return{items:e.items.list}}),(function(e){return{onGetItemList:function(t){return e(function(e){return{type:_,data:e}}(t))}}}))(B),F=n(50),P=n(11),V=n(66),U=(n(128),n(158)),X=n(4),Q=n(166),J=n(161),z=n(160),H=n(162),K=n(163),W=n(165),Y=n(164),Z=n(57),$=n(56),ee=n(83),te=n.n(ee);n(61).config();var ne=Object(U.a)((function(e){return{root:{},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:$.a[500]}}}));var ce=Object(v.a)((function(e){return{order:e.cart.order}}),(function(e){return{onAddItemToCart:function(t){return e(function(e){return{type:y,data:e}}(t))}}}))((function(e){var t=ne(),n=Object(a.useState)(!1),r=Object(V.a)(n,2),i=r[0],s=r[1],u=Object(a.useState)({id:"",name:"",price:"",description:"",quantity:1}),l=Object(V.a)(u,2),d=l[0],b=l[1],p=Object(j.f)().item_id,O=function(e){var t=d.quantity+e;t>=1&&b(Object(P.a)(Object(P.a)({},d),{},{quantity:t}))};return Object(a.useEffect)((function(){fetch("".concat("https://restaurant-journey.herokuapp.com","/api/user/item/").concat(p),{method:"GET"}).then((function(e){return e.json()})).then((function(e){b(Object(P.a)(Object(P.a)({},e),{},{quantity:1}))})).catch((function(e){return console.log(e)}))}),[p]),Object(c.jsxs)(Q.a,{className:t.root,id:"recipe",children:[Object(c.jsx)(o.b,{to:"/items",children:"View all items"}),Object(c.jsx)(z.a,{className:t.media,id:"recipe__fig",image:"/images/recipe.jpg",title:d.name}),Object(c.jsx)(J.a,{className:"recipe__title",title:d.name}),Object(c.jsx)(H.a,{children:Object(c.jsxs)(Z.a,{variant:"h5",component:"h2",children:["PRICE : ",d.price]})}),Object(c.jsxs)(K.a,{disableSpacing:!0,className:"recipe__info",children:[Object(c.jsx)("svg",{className:"recipe__info-icon",children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-man"})}),Object(c.jsx)("span",{className:"recipe__info-data recipe__info-data--people",children:d.quantity}),Object(c.jsx)("span",{className:"recipe__info-text",children:" SERVINGS"}),Object(c.jsxs)(K.a,{disableSpacing:!0,className:"recipe__info-buttons",children:[Object(c.jsx)("button",{className:"btn-tiny btn-decrease",onClick:function(){O(-1)},children:Object(c.jsx)("svg",{children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-circle-with-minus"})})}),Object(c.jsx)("button",{className:"btn-tiny btn-increase",onClick:function(){O(1)},children:Object(c.jsx)("svg",{children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-circle-with-plus"})})})]}),Object(c.jsxs)("button",{class:"btn-small recipe__btn recipe__btn recipe__btn--add",onClick:function(){return e.onAddItemToCart(d)},children:[Object(c.jsx)("svg",{class:"search__icon",children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-shopping-cart"})}),Object(c.jsx)("span",{children:"Add to cart"})]}),Object(c.jsx)(Y.a,{className:Object(X.a)(t.expand,Object(F.a)({},t.expandOpen,i)),onClick:function(){s(!i)},"aria-expanded":i,"aria-label":"show more",children:Object(c.jsx)(te.a,{})})]}),Object(c.jsx)(W.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(c.jsxs)(H.a,{children:[Object(c.jsx)(Z.a,{paragraph:!0,children:"Description:"}),Object(c.jsx)(Z.a,{paragraph:!0,children:d.description})]})})]})})),ae=(n(133),n(70).default);n(61).config();var re=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).placeOrder=function(){a.props.customerMetaData?ae.post("".concat("https://restaurant-journey.herokuapp.com","/api/user/order"),{customer_mobile:a.props.customerMetaData.mobile,customer_name:a.props.customerMetaData.name,table_no:a.props.customerMetaData.tableNo,item_list:a.props.order}).then((function(e){console.log(e),alert("Thanks for Ordering!!")})).catch((function(e){console.log(e)})):alert("something went wrong!")},a.handleServings=function(e,t){a.props.onUpdateItemQuantity({id:e,val:t})},a.addToCart=function(){return a.props.order?a.props.order.map((function(e){return Object(c.jsxs)("div",{className:"cart-item",children:[Object(c.jsx)("div",{className:"cart-item-figure",children:Object(c.jsx)(o.b,{to:"/items/".concat(e.id),children:Object(c.jsx)("img",{src:"images/recipe.jpg",alt:"r",width:"60",height:"60",style:{borderRadius:"100%"}})})}),Object(c.jsxs)("div",{className:"cart-item-middle",children:[Object(c.jsx)("div",{className:"cart-item-middle-name",children:e.name}),Object(c.jsxs)("div",{className:"cart-item-middle-quantity",children:[Object(c.jsx)("div",{children:Object(c.jsx)("svg",{className:"cart-item-servings-icon",children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-man"})})}),Object(c.jsxs)("div",{className:"cart-item-servings-data",children:[Object(c.jsx)("span",{className:"cart-item-servings-count",children:e.quantity}),Object(c.jsx)("span",{className:"cart-item-servings-text",children:" SERVINGS"})]}),Object(c.jsxs)("div",{className:"cart-item-servings-inc-dec-buttons",children:[Object(c.jsx)("button",{className:"btn-tiny btn-decrease",onClick:function(){return a.handleServings(e.id,-1)},children:Object(c.jsx)("svg",{children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-circle-with-minus"})})}),Object(c.jsx)("button",{className:"btn-tiny btn-increase",onClick:function(){return a.handleServings(e.id,1)},children:Object(c.jsx)("svg",{children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-circle-with-plus"})})})]})]})]}),Object(c.jsx)("div",{className:"cart-item-price",children:Object(c.jsxs)("h3",{children:[e.price*e.quantity,"/-"]})})]},e.id)})):Object(c.jsx)("div",{})},a.state={},a}return Object(l.a)(n,[{key:"render",value:function(){return console.log(this.props.customerMetaData),Object(c.jsxs)("div",{className:"cart",children:[Object(c.jsx)(o.b,{to:"/items",children:"View all items"}),Object(c.jsx)("h1",{children:"Cart"}),Object(c.jsxs)("h3",{children:[this.props.order.length," items in Cart"]}),Object(c.jsx)(this.addToCart,{}),Object(c.jsx)("div",{className:"cart-place-order",children:Object(c.jsx)("button",{onClick:this.placeOrder,children:"PlaceOrder"})})]})}}]),n}(a.Component),ie=Object(v.a)((function(e){return{order:e.cart.order,customerMetaData:e.metaData.customerMetaData}}),(function(e){return{onUpdateItemQuantity:function(t){return e(function(e){return{type:N,data:e}}(t))}}}))(re);var se=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(o.a,{children:[Object(c.jsx)(x,{}),Object(c.jsxs)(p.TopAppBarFixedAdjust,{children:[Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"app-main-area",children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{exact:!0,path:"/",component:w}),Object(c.jsx)(j.a,{exact:!0,path:"/items",component:G}),Object(c.jsx)(j.a,{exact:!0,path:"/items/:item_id",component:ce}),Object(c.jsx)(j.a,{exact:!0,path:"/cart",component:ie}),Object(c.jsx)(j.a,{path:"*",component:g})]})})]}),Object(c.jsx)(f,{})]})})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},je=n(84),ue=n(34);var le=function(e,t){switch(t.type){case C:return console.log(t.data),Object(P.a)(Object(P.a)({},e),{},{customerMetaData:Object(P.a)({},t.data)});default:return e||{}}},de=n(45);var be=function(e,t){switch(t.type){case _:return Object(P.a)(Object(P.a)({},e),{},{list:Object(de.a)(t.data)});default:return e||{}}};var pe=function(e,t){var n,c=[];switch(t.type){case y:return c=[].concat(Object(de.a)(e.order),[t.data]),Object(P.a)(Object(P.a)({},e),{},{order:c});case N:return console.log(t.data),(n=(c=Object(de.a)(e.order)).find((function(e){return e.id===t.data.id}))).quantity+t.data.val>=1&&(n.quantity+=t.data.val),Object(P.a)(Object(P.a)({},e),{},{order:c});default:return e||{order:[]}}},Oe=Object(ue.b)({metaData:le,items:be,cart:pe}),he=Object(ue.c)(Oe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(je.a,{store:he,children:Object(c.jsx)(se,{})})}),document.getElementById("root")),oe()},94:function(e,t,n){},95:function(e,t,n){}},[[134,1,2]]]);
//# sourceMappingURL=main.5fe19288.chunk.js.map