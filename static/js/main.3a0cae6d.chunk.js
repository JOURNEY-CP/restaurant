(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{128:function(t,e,n){},133:function(t,e,n){},134:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),r=n.n(a),i=n(15),s=n.n(i),o=(n(94),n(21)),j=n(8),u=(n(95),n(19)),d=n(20),l=n(23),b=n(22),O=n(24),p=n.n(O),h=n(28),m=n.n(h),x=(n(96),n(68),function(t){Object(l.a)(n,t);var e=Object(b.a)(n);function n(t){var c;return Object(u.a)(this,n),(c=e.call(this,t)).handlePath=function(){c.props.history.push("/cart")},c.state={},c}return Object(d.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)(p.a,{children:Object(c.jsxs)(O.TopAppBarRow,{children:[Object(c.jsxs)(O.TopAppBarSection,{align:"start",children:[Object(c.jsx)(O.TopAppBarIcon,{navIcon:!0,tabIndex:0,children:Object(c.jsx)(m.a,{hasRipple:!0,icon:"menu",onClick:function(){return console.log("click")}})}),Object(c.jsx)(O.TopAppBarTitle,{children:"Restaurent"})]}),Object(c.jsx)(O.TopAppBarSection,{align:"end",role:"toolbar",children:Object(c.jsx)(O.TopAppBarIcon,{actionItem:!0,tabIndex:0,children:Object(c.jsx)(o.b,{to:"/cart",children:Object(c.jsx)(m.a,{"aria-label":"print page",hasRipple:!0,icon:"shopping_cart"})})})})]})})})}}]),n}(a.Component)),f=function(t){Object(l.a)(n,t);var e=Object(b.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"you are in footer"})})}}]),n}(a.Component),v=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Page Not Found"})})},_=n(18),g="getItemList",S="addItemToCart",T="updateItemQuantity",E="customerMetaData",C=n(31),N=n.n(C),y=(n(105),n(106),n(81)),D=n.n(y),A=function(t){Object(l.a)(n,t);var e=Object(b.a)(n);function n(t){var c;return Object(u.a)(this,n),(c=e.call(this,t)).handleMetaData=function(){c.props.onGetCustomerMetaData(c.state),c.props.history.push("/items")},c.state={name:"",tableNo:"",mobile:""},c}return Object(d.a)(n,[{key:"render",value:function(){var t=this;return Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)(N.a,{label:"Name",onTrailingIconSelect:function(){return t.setState({value:""})},leadingIcon:Object(c.jsx)(m.a,{icon:"account_circle"}),children:Object(c.jsx)(C.Input,{id:"name",value:this.state.name,onChange:function(e){return t.setState({name:e.currentTarget.value})}})}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(N.a,{label:"Mobile Number",onTrailingIconSelect:function(){return t.setState({value:""})},leadingIcon:Object(c.jsx)(m.a,{icon:"call"}),children:Object(c.jsx)(C.Input,{id:"mobile",value:this.state.mobile,onChange:function(e){return t.setState({mobile:e.currentTarget.value})}})}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(N.a,{label:"Table Number",id:"table",leadingIcon:Object(c.jsx)(m.a,{icon:"restaurant_menu"}),children:Object(c.jsx)(C.Input,{value:this.state.tableNo,onChange:function(e){return t.setState({tableNo:e.currentTarget.value})}})}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(D.a,{icon:Object(c.jsx)(m.a,{icon:"restaurant"}),raised:!0,onClick:this.handleMetaData,children:"Start Ordering"})]})}}]),n}(a.Component),I=Object(_.a)((function(t){return{customerMetaData:t.metaData.customerMetaData}}),(function(t){return{onGetCustomerMetaData:function(e){return t(function(t){return{type:E,data:t}}(e))}}}))(A),R=n(65),P=n.n(R),k=n(82),w=(n(108),n(55)),M=n.n(w),L=n(70).default;n(61).config();var H=function(t){Object(l.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).itemList=function(){return a.props.items?a.props.items.map((function(t){return Object(c.jsxs)(w.ListItem,{onClick:function(){a.props.history.push("/items/".concat(t.id))},children:[Object(c.jsx)("img",{src:"images/recipe.jpg",alt:"r",width:"60",height:"60",style:{borderRadius:"100%"}}),Object(c.jsx)(w.ListItemText,{primaryText:t.name,secondaryText:t.price})]},t.id)})):Object(c.jsx)("div",{})},a.state={},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=Object(k.a)(P.a.mark((function t(){var e;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return setTimeout(function(){this.setState({render:!0})}.bind(this),1e3),t.next=3,L.get("".concat("https://restaurant-journey.herokuapp.com","/api/user/item"));case 3:return e=t.sent,t.t0=this.props,t.next=7,e.data;case 7:t.t1=t.sent,t.t0.onGetItemList.call(t.t0,t.t1);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)(M.a,{twoLine:!0,children:Object(c.jsx)(this.itemList,{})})})}}]),n}(a.Component),B=Object(_.a)((function(t){return{items:t.items.list}}),(function(t){return{onGetItemList:function(e){return t(function(t){return{type:g,data:t}}(e))}}}))(H),K=n(50),F=n(11),U=n(66),W=(n(128),n(158)),G=n(4),q=n(166),V=n(161),X=n(160),Q=n(162),J=n(163),z=n(165),Y=n(164),Z=n(57),$=n(56),tt=n(83),et=n.n(tt);n(61).config();var nt=Object(W.a)((function(t){return{root:{},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:$.a[500]}}}));var ct=Object(_.a)((function(t){return{order:t.cart.order}}),(function(t){return{onAddItemToCart:function(e){return t(function(t){return{type:S,data:t}}(e))}}}))((function(t){var e=nt(),n=Object(a.useState)(!1),r=Object(U.a)(n,2),i=r[0],s=r[1],u=Object(a.useState)({id:"",name:"",price:"",description:"",quantity:1}),d=Object(U.a)(u,2),l=d[0],b=d[1],O=Object(j.f)().item_id,p=function(t){var e=l.quantity+t;e>=1&&b(Object(F.a)(Object(F.a)({},l),{},{quantity:e}))};return Object(a.useEffect)((function(){fetch("".concat("https://restaurant-journey.herokuapp.com","/api/user/item/").concat(O),{method:"GET"}).then((function(t){return t.json()})).then((function(t){b(Object(F.a)(Object(F.a)({},t),{},{quantity:1}))})).catch((function(t){return console.log(t)}))}),[O]),Object(c.jsxs)(q.a,{className:e.root,id:"recipe",children:[Object(c.jsx)(o.b,{to:"/items",children:"View all items"}),Object(c.jsx)(X.a,{className:e.media,id:"recipe__fig",image:"/images/recipe.jpg",title:l.name}),Object(c.jsx)(V.a,{className:"recipe__title",title:l.name}),Object(c.jsx)(Q.a,{children:Object(c.jsxs)(Z.a,{variant:"h5",component:"h2",children:["PRICE : ",l.price]})}),Object(c.jsxs)(J.a,{disableSpacing:!0,className:"recipe__info",children:[Object(c.jsx)("svg",{className:"recipe__info-icon",children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-man"})}),Object(c.jsx)("span",{className:"recipe__info-data recipe__info-data--people",children:l.quantity}),Object(c.jsx)("span",{className:"recipe__info-text",children:" SERVINGS"}),Object(c.jsxs)(J.a,{disableSpacing:!0,className:"recipe__info-buttons",children:[Object(c.jsx)("button",{className:"btn-tiny btn-decrease",onClick:function(){p(-1)},children:Object(c.jsx)("svg",{children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-circle-with-minus"})})}),Object(c.jsx)("button",{className:"btn-tiny btn-increase",onClick:function(){p(1)},children:Object(c.jsx)("svg",{children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-circle-with-plus"})})})]}),Object(c.jsxs)("button",{class:"btn-small recipe__btn recipe__btn recipe__btn--add",onClick:function(){return t.onAddItemToCart(l)},children:[Object(c.jsx)("svg",{class:"search__icon",children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-shopping-cart"})}),Object(c.jsx)("span",{children:"Add to cart"})]}),Object(c.jsx)(Y.a,{className:Object(G.a)(e.expand,Object(K.a)({},e.expandOpen,i)),onClick:function(){s(!i)},"aria-expanded":i,"aria-label":"show more",children:Object(c.jsx)(et.a,{})})]}),Object(c.jsx)(z.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(c.jsxs)(Q.a,{children:[Object(c.jsx)(Z.a,{paragraph:!0,children:"Description:"}),Object(c.jsx)(Z.a,{paragraph:!0,children:l.description})]})})]})})),at=(n(133),n(70).default);n(61).config();var rt=function(t){Object(l.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).placeOrder=function(){a.props.customerMetaData?at.post("".concat("https://restaurant-journey.herokuapp.com","/api/user/order"),{customer_mobile:a.props.customerMetaData.mobile,customer_name:a.props.customerMetaData.name,table_no:a.props.customerMetaData.tableNo,item_list:a.props.order}).then((function(t){console.log(t),alert("Thanks for Ordering!!")})).catch((function(t){console.log(t)})):alert("something went wrong!")},a.handleServings=function(t,e){a.props.onUpdateItemQuantity({id:t,val:e})},a.addToCart=function(){return a.props.order?a.props.order.map((function(t){return Object(c.jsxs)("div",{className:"cart-item",children:[Object(c.jsx)("div",{className:"cart-item-figure",children:Object(c.jsx)(o.b,{to:"/items/".concat(t.id),children:Object(c.jsx)("img",{src:"images/recipe.jpg",alt:"r",width:"60",height:"60",style:{borderRadius:"100%"}})})}),Object(c.jsxs)("div",{className:"cart-item-middle",children:[Object(c.jsx)("div",{className:"cart-item-middle-name",children:t.name}),Object(c.jsxs)("div",{className:"cart-item-middle-quantity",children:[Object(c.jsx)("div",{children:Object(c.jsx)("svg",{className:"cart-item-servings-icon",children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-man"})})}),Object(c.jsxs)("div",{className:"cart-item-servings-data",children:[Object(c.jsx)("span",{className:"cart-item-servings-count",children:t.quantity}),Object(c.jsx)("span",{className:"cart-item-servings-text",children:" SERVINGS"})]}),Object(c.jsxs)("div",{className:"cart-item-servings-inc-dec-buttons",children:[Object(c.jsx)("button",{className:"btn-tiny btn-decrease",onClick:function(){return a.handleServings(t.id,-1)},children:Object(c.jsx)("svg",{children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-circle-with-minus"})})}),Object(c.jsx)("button",{className:"btn-tiny btn-increase",onClick:function(){return a.handleServings(t.id,1)},children:Object(c.jsx)("svg",{children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-circle-with-plus"})})})]})]})]}),Object(c.jsx)("div",{className:"cart-item-price",children:Object(c.jsxs)("h3",{children:[t.price*t.quantity,"/-"]})})]},t.id)})):Object(c.jsx)("div",{})},a.state={},a}return Object(d.a)(n,[{key:"render",value:function(){return console.log(this.props.customerMetaData),Object(c.jsxs)("div",{className:"cart",children:[Object(c.jsx)(o.b,{to:"/items",children:"View all items"}),Object(c.jsx)("h1",{children:"Cart"}),Object(c.jsxs)("h3",{children:[this.props.order.length," items in Cart"]}),Object(c.jsx)(this.addToCart,{}),Object(c.jsx)("div",{className:"cart-place-order",children:Object(c.jsx)("button",{onClick:this.placeOrder,children:"PlaceOrder"})})]})}}]),n}(a.Component),it=Object(_.a)((function(t){return{order:t.cart.order,customerMetaData:t.metaData.customerMetaData}}),(function(t){return{onUpdateItemQuantity:function(e){return t(function(t){return{type:T,data:t}}(e))}}}))(rt);var st=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(o.a,{children:[Object(c.jsx)(x,{}),Object(c.jsxs)(O.TopAppBarFixedAdjust,{children:[Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"app-main-area",children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{exact:!0,path:Object({NODE_ENV:"production",PUBLIC_URL:"/restaurant",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_HOST:"https://restaurant-journey.herokuapp.com"}).HOMEPAGE+"/",component:I}),Object(c.jsx)(j.a,{exact:!0,path:Object({NODE_ENV:"production",PUBLIC_URL:"/restaurant",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_HOST:"https://restaurant-journey.herokuapp.com"}).HOMEPAGE+"/items",component:B}),Object(c.jsx)(j.a,{exact:!0,path:Object({NODE_ENV:"production",PUBLIC_URL:"/restaurant",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_HOST:"https://restaurant-journey.herokuapp.com"}).HOMEPAGE+"/items/:item_id",component:ct}),Object(c.jsx)(j.a,{exact:!0,path:Object({NODE_ENV:"production",PUBLIC_URL:"/restaurant",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_HOST:"https://restaurant-journey.herokuapp.com"}).HOMEPAGE+"/cart",component:it}),Object(c.jsx)(j.a,{path:"*",component:v})]})})]}),Object(c.jsx)(f,{})]})})},ot=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),r(t),i(t)}))},jt=n(84),ut=n(34);var dt=function(t,e){switch(e.type){case E:return console.log(e.data),Object(F.a)(Object(F.a)({},t),{},{customerMetaData:Object(F.a)({},e.data)});default:return t||{}}},lt=n(45);var bt=function(t,e){switch(e.type){case g:return Object(F.a)(Object(F.a)({},t),{},{list:Object(lt.a)(e.data)});default:return t||{}}};var Ot=function(t,e){var n,c=[];switch(e.type){case S:return c=[].concat(Object(lt.a)(t.order),[e.data]),Object(F.a)(Object(F.a)({},t),{},{order:c});case T:return console.log(e.data),(n=(c=Object(lt.a)(t.order)).find((function(t){return t.id===e.data.id}))).quantity+e.data.val>=1&&(n.quantity+=e.data.val),Object(F.a)(Object(F.a)({},t),{},{order:c});default:return t||{order:[]}}},pt=Object(ut.b)({metaData:dt,items:bt,cart:Ot}),ht=Object(ut.c)(pt,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(jt.a,{store:ht,children:Object(c.jsx)(st,{})})}),document.getElementById("root")),ot()},94:function(t,e,n){},95:function(t,e,n){}},[[134,1,2]]]);
//# sourceMappingURL=main.3a0cae6d.chunk.js.map