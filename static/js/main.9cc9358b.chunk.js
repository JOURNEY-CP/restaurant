(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},129:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),i=n(15),s=n.n(i),o=(n(94),n(84)),u=n(23),l=n.n(u),j=n(39),d=n.n(j),b=n(26),h=n(8),p=(n(101),n(19)),O=n(20),m=n(22),f=n(21),x=n(18),g="getItemList",v="addItemToCart",y="updateItemQuantity",w="customerMetaData",_=(n(102),n(69).default);n(39).config();var N=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).placeOrder=function(){a.props.customerMetaData?_.post("".concat("https://restaurant-journey.herokuapp.com","/api/user/order"),{customer_mobile:a.props.customerMetaData.mobile,customer_name:a.props.customerMetaData.name,table_no:a.props.customerMetaData.tableNo,item_list:a.props.order}).then((function(e){alert("Thanks for Ordering!!")})).catch((function(e){console.log(e)})):alert("something went wrong!")},a.handleServings=function(e,t){a.props.onUpdateItemQuantity({id:e,val:t})},a.addToCart=function(){return a.props.order?a.props.order.map((function(e){return Object(c.jsxs)("div",{className:"cart-item",children:[Object(c.jsx)("div",{className:"cart-item-figure",children:Object(c.jsx)(b.b,{to:"/items/".concat(e.id),children:Object(c.jsx)("img",{src:"/images/recipe.jpg",alt:"r",width:"60",height:"60",style:{borderRadius:"100%"}})})}),Object(c.jsxs)("div",{className:"cart-item-middle",children:[Object(c.jsx)("div",{className:"cart-item-middle-name",children:e.name}),Object(c.jsxs)("div",{className:"cart-item-middle-quantity",children:[Object(c.jsx)("div",{children:Object(c.jsx)("svg",{className:"cart-item-servings-icon",children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-man"})})}),Object(c.jsxs)("div",{className:"cart-item-servings-data",children:[Object(c.jsx)("span",{className:"cart-item-servings-count",children:e.quantity}),Object(c.jsx)("span",{className:"cart-item-servings-text",children:" SERVINGS"})]}),Object(c.jsxs)("div",{className:"cart-item-servings-inc-dec-buttons",children:[Object(c.jsx)("button",{type:"button",className:"btn-tiny btn-decrease",onClick:function(){return a.handleServings(e.id,-1)},children:Object(c.jsx)("svg",{children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-circle-with-minus"})})}),Object(c.jsx)("button",{type:"button",className:"btn-tiny btn-increase",onClick:function(){return a.handleServings(e.id,1)},children:Object(c.jsx)("svg",{children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-circle-with-plus"})})})]})]})]}),Object(c.jsx)("div",{className:"cart-item-price",children:Object(c.jsxs)("h3",{children:[e.price*e.quantity,"/-"]})})]},e.id)})):Object(c.jsx)("div",{})},a.state={},a}return Object(O.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"cart",children:[Object(c.jsx)(b.b,{to:"/items",children:"View all items"}),Object(c.jsx)("h1",{children:"Cart"}),Object(c.jsxs)("h3",{children:[this.props.order.length," items in Cart"]}),Object(c.jsx)(this.addToCart,{}),Object(c.jsx)("div",{className:"cart-place-order",children:Object(c.jsx)("button",{type:"button",onClick:this.placeOrder,children:"PlaceOrder"})})]})}}]),n}(a.Component),C=Object(x.a)((function(e){return{order:e.cart.order,customerMetaData:e.metaData.customerMetaData}}),(function(e){return{onUpdateItemQuantity:function(t){return e(function(e){return{type:y,data:e}}(t))}}}))(N),k=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var c;return Object(p.a)(this,n),(c=t.call(this,e)).state={},c}return Object(O.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"you are in footer"})})}}]),n}(a.Component),T=n(28),I=n.n(T),S=(n(121),n(78),function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var c;return Object(p.a)(this,n),(c=t.call(this,e)).handlePath=function(){c.props.history.push("/cart")},c.state={},c}return Object(O.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)(l.a,{children:Object(c.jsxs)(u.TopAppBarRow,{children:[Object(c.jsxs)(u.TopAppBarSection,{align:"start",children:[Object(c.jsx)(u.TopAppBarIcon,{navIcon:!0,tabIndex:0,children:Object(c.jsx)(I.a,{hasRipple:!0,icon:"menu",onClick:function(){return console.log("click")}})}),Object(c.jsx)(u.TopAppBarTitle,{children:"Restaurent"})]}),Object(c.jsx)(u.TopAppBarSection,{align:"end",role:"toolbar",children:Object(c.jsx)(u.TopAppBarIcon,{actionItem:!0,tabIndex:0,children:Object(c.jsx)(b.b,{to:"/cart",children:Object(c.jsx)(I.a,{"aria-label":"print page",hasRipple:!0,icon:"shopping_cart"})})})})]})})})}}]),n}(a.Component)),D=n(81),A=n.n(D),E=(n(122),n(31)),M=n.n(E),L=(n(126),function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var c;return Object(p.a)(this,n),(c=t.call(this,e)).handleMetaData=function(){c.props.onGetCustomerMetaData(c.state),c.props.history.push("/items")},c.state={name:"",tableNo:"",mobile:""},c}return Object(O.a)(n,[{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)(M.a,{label:"Name",onTrailingIconSelect:function(){return e.setState({value:""})},leadingIcon:Object(c.jsx)(I.a,{icon:"account_circle"}),children:Object(c.jsx)(E.Input,{id:"name",value:this.state.name,onChange:function(t){return e.setState({name:t.currentTarget.value})}})}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(M.a,{label:"Mobile Number",onTrailingIconSelect:function(){return e.setState({value:""})},leadingIcon:Object(c.jsx)(I.a,{icon:"call"}),children:Object(c.jsx)(E.Input,{id:"mobile",value:this.state.mobile,onChange:function(t){return e.setState({mobile:t.currentTarget.value})}})}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(M.a,{label:"Table Number",id:"table",leadingIcon:Object(c.jsx)(I.a,{icon:"restaurant_menu"}),children:Object(c.jsx)(E.Input,{value:this.state.tableNo,onChange:function(t){return e.setState({tableNo:t.currentTarget.value})}})}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(A.a,{icon:Object(c.jsx)(I.a,{icon:"restaurant"}),raised:!0,onClick:this.handleMetaData,children:"Start Ordering"})]})}}]),n}(a.Component)),R=Object(x.a)((function(e){return{customerMetaData:e.metaData.customerMetaData}}),(function(e){return{onGetCustomerMetaData:function(t){return e(function(e){return{type:w,data:e}}(t))}}}))(L),q=n(65),B=n.n(q),W=n(82),P=(n(128),n(56)),G=n.n(P),U=n(69).default;n(39).config();var F=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).itemList=function(){return a.props.items?a.props.items.map((function(e){return Object(c.jsxs)(P.ListItem,{onClick:function(){a.props.history.push("/items/".concat(e.id))},children:[Object(c.jsx)("img",{src:"/images/recipe.jpg",alt:"r",width:"60",height:"60",style:{borderRadius:"100%"}}),Object(c.jsx)(P.ListItemText,{primaryText:e.name,secondaryText:e.price})]},e.id)})):Object(c.jsx)("div",{})},a.state={},a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=Object(W.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout(function(){this.setState({render:!0})}.bind(this),1e3),e.next=3,U.get("".concat("https://restaurant-journey.herokuapp.com","/api/user/item"));case 3:return t=e.sent,e.t0=this.props,e.next=7,t.data;case 7:e.t1=e.sent,e.t0.onGetItemList.call(e.t0,e.t1);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)(G.a,{twoLine:!0,children:Object(c.jsx)(this.itemList,{})})})}}]),n}(a.Component),V=Object(x.a)((function(e){return{items:e.items.list}}),(function(e){return{onGetItemList:function(t){return e(function(e){return{type:g,data:e}}(t))}}}))(F),X=function(){return console.log(window.location),Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Page Not Found"})})},Q=n(51),J=n(11),$=n(66),z=(n(129),n(158)),H=n(4),K=n(166),Y=n(161),Z=n(160),ee=n(162),te=n(163),ne=n(165),ce=n(164),ae=n(58),re=n(57),ie=n(83),se=n.n(ie);n(39).config();var oe=Object(z.a)((function(e){return{root:{},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:re.a[500]}}}));var ue=Object(x.a)((function(e){return{order:e.cart.order}}),(function(e){return{onAddItemToCart:function(t){return e(function(e){return{type:v,data:e}}(t))}}}))((function(e){var t=oe(),n=Object(a.useState)(!1),r=Object($.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)({id:"",name:"",price:"",description:"",quantity:1}),u=Object($.a)(o,2),l=u[0],j=u[1],d=Object(h.f)().item_id,p=function(e){var t=l.quantity+e;t>=1&&j(Object(J.a)(Object(J.a)({},l),{},{quantity:t}))};return Object(a.useEffect)((function(){fetch("".concat("https://restaurant-journey.herokuapp.com","/api/user/item/").concat(d),{method:"GET"}).then((function(e){return e.json()})).then((function(e){j(Object(J.a)(Object(J.a)({},e),{},{quantity:1}))})).catch((function(e){return console.log(e)}))}),[d]),Object(c.jsxs)(K.a,{className:t.root,id:"recipe",children:[Object(c.jsx)(b.b,{to:"/items",children:"View all items"}),Object(c.jsx)(Z.a,{className:t.media,id:"recipe__fig",image:"/images/recipe.jpg",title:l.name}),Object(c.jsx)(Y.a,{className:"recipe__title",title:l.name}),Object(c.jsx)(ee.a,{children:Object(c.jsxs)(ae.a,{variant:"h5",component:"h2",children:["PRICE : ",l.price]})}),Object(c.jsxs)(te.a,{disableSpacing:!0,className:"recipe__info",children:[Object(c.jsx)("svg",{className:"recipe__info-icon",children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-man"})}),Object(c.jsx)("span",{className:"recipe__info-data recipe__info-data--people",children:l.quantity}),Object(c.jsx)("span",{className:"recipe__info-text",children:" SERVINGS"}),Object(c.jsxs)(te.a,{disableSpacing:!0,className:"recipe__info-buttons",children:[Object(c.jsx)("button",{className:"btn-tiny btn-decrease",onClick:function(){p(-1)},children:Object(c.jsx)("svg",{children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-circle-with-minus"})})}),Object(c.jsx)("button",{className:"btn-tiny btn-increase",onClick:function(){p(1)},children:Object(c.jsx)("svg",{children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-circle-with-plus"})})})]}),Object(c.jsxs)("button",{class:"btn-small recipe__btn recipe__btn recipe__btn--add",onClick:function(){return e.onAddItemToCart(l)},children:[Object(c.jsx)("svg",{class:"search__icon",children:Object(c.jsx)("use",{href:"/images/icons.svg#icon-shopping-cart"})}),Object(c.jsx)("span",{children:"Add to cart"})]}),Object(c.jsx)(ce.a,{className:Object(H.a)(t.expand,Object(Q.a)({},t.expandOpen,i)),onClick:function(){s(!i)},"aria-expanded":i,"aria-label":"show more",children:Object(c.jsx)(se.a,{})})]}),Object(c.jsx)(ne.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(c.jsxs)(ee.a,{children:[Object(c.jsx)(ae.a,{paragraph:!0,children:"Description:"}),Object(c.jsx)(ae.a,{paragraph:!0,children:l.description})]})})]})}));d.a.config();var le=function(){return console.log("hello World"),Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(b.a,{basename:"/restaurant",children:[Object(c.jsx)(S,{}),Object(c.jsxs)(u.TopAppBarFixedAdjust,{children:[Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"app-main-area",children:Object(c.jsxs)(h.c,{children:[Object(c.jsx)(h.a,{exact:!0,path:"/",component:R}),Object(c.jsx)(h.a,{exact:!0,path:"/items",component:V}),Object(c.jsx)(h.a,{exact:!0,path:"/items/:item_id",component:ue}),Object(c.jsx)(h.a,{exact:!0,path:"/cart",component:C}),Object(c.jsx)(h.a,{path:"*",component:X})]})})]}),Object(c.jsx)(k,{})]})})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},de=n(34);var be=function(e,t){switch(t.type){case w:return console.log(t.data),Object(J.a)(Object(J.a)({},e),{},{customerMetaData:Object(J.a)({},t.data)});default:return e||{}}},he=n(46);var pe=function(e,t){switch(t.type){case g:return Object(J.a)(Object(J.a)({},e),{},{list:Object(he.a)(t.data)});default:return e||{}}};var Oe=function(e,t){var n,c=[];switch(t.type){case v:return c=[].concat(Object(he.a)(e.order),[t.data]),Object(J.a)(Object(J.a)({},e),{},{order:c});case y:return console.log(t.data),(n=(c=Object(he.a)(e.order)).find((function(e){return e.id===t.data.id}))).quantity+t.data.val>=1&&(n.quantity+=t.data.val),Object(J.a)(Object(J.a)({},e),{},{order:c});default:return e||{order:[]}}},me=Object(de.b)({metaData:be,items:pe,cart:Oe}),fe=Object(de.c)(me,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),xe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ge(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(o.a,{store:fe,children:Object(c.jsx)(le,{})})}),document.getElementById("root")),je(),function(e){if("serviceWorker"in navigator){if(new URL("https://journey-cp.github.io/restaurant",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("https://journey-cp.github.io/restaurant","/service-worker.js");xe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ge(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ge(t,e)}))}}()},94:function(e,t,n){}},[[134,1,2]]]);
//# sourceMappingURL=main.9cc9358b.chunk.js.map